# how to confront with trace

## 如何对抗识别

有时为了防止留下浏览记录,会选择使用浏览器的"隐身模式",然后打开搜索引擎进行搜索,之后将"隐身模式"关闭.

但是,很有可能的是,第二天打开搜索引擎,一侧的推荐栏居然出现了和之前搜索内容相关的推荐产品, **W_F** 发生了什么?

+ 可能是在隐身模式下登陆了账号,这样搜索引擎自然可以顺藤摸瓜,将账号之间关联起来.
+ 可能是因为搜索太明显,比如先高强度自搜,然后一转搜索关键词
+ 可能是搜索关键词本身就和账号有关联,比如自搜

但是更可能的是,搜索引擎本身使用了"浏览器指纹"技术,直接对使用者的浏览器信息进行了记录,之后进行了精确追踪并推送

PS: 当然,装一个去广告拓展的话,根本不会发现这件事,但这与本文无关.

### 什么是浏览器指纹

浏览器指纹,浏览器端根据报文信息以及浏览器端计算出的,在一定时间内较稳定的值,因此可以用来跟踪用户.

#### 报文信息

一些上传到服务器的报文头部信息是由浏览器自动填充的,包括但不限于

+ `User-Agent`,每个浏览器,每个版本都会有变动,很好的满足了"一定时间内较稳定"这个要求.
+ `DNT`, `Do Not Track`的缩写,基本上设定后不会再有人更改.
+ `accept-encoding`: 常见值为`gzip, deflate, br`,同样不易变动
+ `accept-language`: 常见值为`en,zh-CN;q=0.9,zh;q=0.8,en-GB;q=0.7,en-US;q=0.6`,同样不易变动

#### 浏览器端计算

这里名头就多起来了,包括但不限于Canvas指纹识别,WebGL,字体识别,IP地址,功能探测,CPU核数探测.......等等等等,诸如此类,这些都依赖于本地的软件或硬件,通过Chrome的API暴露出来,供上层调用. 更关键的是,这些功能的代码都是固化在浏览器中的.

### 采用一些措施对抗识别

#### 报文信息

前文说过,默认的报文信息由浏览器填入,如果有一个代理对报文进行修改,那就可以修改保温信息了.幸运的是,浏览器提供了一些功能去令拓展实现,这其中就有代理相关的.

#### 浏览器端计算

浏览器端计算归根结底都要调用浏览器的API,我们可以通过覆写对应的API来实现,比如可以将给Canvas指纹加上微小的随机扰动,将可追踪性打破.

#### 勤于更换设备

浏览器指纹,追踪的是设备而不是人,正所谓"没人知道屏幕前到底是人是狗",只要换设备足够快,就没有追踪技术能跟得上

#### All in One

正所谓 `小隐隐于朝大隐隐于市`,如果我们可以把浏览器指纹识别的结果伪装成其他人的,不就隐藏了我们自己吗?

更进一步的讲,如果能找到一个足够大的群体,他们的指纹识别全都一样,那么加入他们就像一滴水融入了大海一样,个人的行为被隐秘在大量无意义信息之海中,噪音完全干扰了有意义的信息.

向专用硬件讲,应该说 ipad,iPhone, MacBook都是绝佳的平台,这些设备每年出货量超级大,硬件高度统一,因此浏览器指纹识别所搜集到的信息高度一致.

向专用软件讲,建议使用Tor, Tor致力于令所有用户的浏览器指纹看起来**完全一致**,因此也可以隐藏自己

### 浏览器指纹识别给了我们什么启示?

从大方向来讲,其实有效的措施只有两个,令信息完全随机或者完全相同,

前者会让数据分布变成一个均匀分布,同时过量的信息完全无法分析出关联.

后者会让数据分布变成一个尖峰,很少的数据量对应者巨量用户,同样完全无法分析结果.

#### 如何对抗 "查重"

##### 随机法

正所谓最近的路就是绕远路, 只要所有题目都自己写,大家写的都不一样,不就没问题了吗!

##### 统一法

想象一下一个场景,倘若某次提价中的所有同学,提交的所有答案整体雷同率超过90%. 每一个人都和其他所有人查重,正所谓全都查重就是全都不查重,自然`Never Gonna let you down~`.

当然,这是理想情况下,但是我们也可以向这一步努力,比如全都使用同一个格式化手段,使用相同的声明文风,变量命名风格,又或者使用"读写"框架,只留下问题处理部分供撰写.